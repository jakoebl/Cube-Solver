# order of cycles: UBL UBR E S M
R2 = (0, 3, 2, 1, 6, 5, 4, 7)

F2 = (0, 2, 1, 3, 4, 6, 5, 7)

U2 = (1, 0, 2, 3, 5, 4, 6, 7)

L2 = (2, 1, 0, 3, 4, 7, 6, 5)

B2 = (3, 1, 2, 0, 7, 5, 6, 4)

D2 = (0, 1, 3, 2, 4, 5, 7, 6)

moves = (U2, F2, L2, B2, R2, D2)

perm_lookup_string = ['0123', '1023', '0213', '2013', '1203', '2103', '0132', '1032', '0312', '3012', '1302', '3102',
                      '0231', '2031', '0321', '3021', '2301', '3201', '1230', '2130', '1320', '3120', '2310', '3210']


def move(string, move):
    result = ""
    for element in move:
        result += string[element]
    return result


def coordinate(string):
    temp = string[0] + string[1] + string[2] + string[3]
    result = perm_lookup_string.index(temp)
    result += int(string[4]) * 24
    return result


def get_moves(string):
    result = []
    for element in moves:
        result.append(move(string, element))
    return result


def gen_lookup_g4():
    dist = [{"01230123"}, {'10231023', '02130213', '21030321', '31203120', '03212103', '01320132'}]
    while dist[-1]:  # While latest set not empty
        print(len(dist[-1]))  # Shows distribution
        dist.append(set())
        for pos in dist[-2]:
            for subpos in get_moves(pos):
                if subpos not in dist[-3] and subpos not in dist[-2] and subpos not in dist[-1]:
                    dist[-1].add(subpos)
                    lookup[coordinate(subpos)] = subpos


lookup = ['01230123', '10230132', '02130213', '20130231', '12030312', '21030321', '01320132', '10320123', '03120312', '30120321', '13020213', '31020231', '02310231', '20310213', '03210321', '30210312', '23010123', '32010132', '12300321', '21300312', '13200231', '31200213', '23100132', '32100123', '01231032', '10231023', '02131302', '20131320', '12031203', '21031230', '01321023', '10321032', '03121203', '30121230', '13021302', '31021320', '02311320', '20311302', '03211230', '30211203', '23011032', '32011023', '12301230', '21301203', '13201320', '31201302', '23101023', '32101032', '01232301', '10232310', '02132031', '20132013', '12032130', '21032103', '01322310', '10322301', '03122130', '30122103', '13022031', '31022013', '02312013', '20312031', '03212103', '30212130', '23012301', '32012310', '12302103', '21302130', '13202013', '31202031', '23102310', '32102301', '01233210', '10233201', '02133120', '20133102', '12033021', '21033012', '01323201', '10323210', '03123021', '30123012', '13023120', '31023102', '02313102', '20313120', '03213012', '30213021', '23013210', '32013201', '12303012', '21303021', '13203102', '31203120', '23103201', '32103210']

